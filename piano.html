<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="piano.css" />
  </head>
  <body>
    <div class="container">
      <div data-key="81" class="key">Q</div>
      <div data-key="87" class="key">W</div>
      <div data-key="69" class="key">E</div>
      <div data-key="82" class="key">R</div>
      <div data-key="84" class="key">T</div>
      <div data-key="89" class="key">Y</div>
      <div data-key="85" class="key">U</div>
      <div data-key="73" class="key">I</div>
      <div data-key="79" class="key">O</div>
    
    </div>

    <audio data-key="81" src="./sounds/boom.wav"></audio>
    <audio data-key="87" src="./sounds/clap.wav"></audio>
    <audio data-key="69" src="./sounds/hihat.wav"></audio>
    <audio data-key="82" src="./sounds/kick.wav"></audio>
    <audio data-key="84" src="./sounds/openhat.wav"></audio>
    <audio data-key="89" src="./sounds/ride.wav"></audio>
    <audio data-key="85" src="./sounds/snare.wav"></audio>
    <audio data-key="73" src="./sounds/tink.wav"></audio>
    <audio data-key="79" src="./sounds/tom.wav"></audio>
    
  </body>
  <script>


 function playsound(e){
        var audio = document.querySelector(`audio[data-key='${e.keyCode}']`)
        var div = document.querySelector("div[data-key='" + e.keyCode + "']")
       
        if(!audio){
          return
        }
        div.classList.add("active")
        audio.currentTime = 0;
        audio.play()
        function removeClass(){
          div.classList.remove("active");
        }
        setTimeout(removeClass, 100)

 }   

 window.addEventListener("keydown", playsound)
        
        var keys = [81,87,69,82,84,89,85,73,79];


        function handleClick(e) {
            const key = e.target.dataset.key;
            var audio = document.querySelector("audio[data-key='" + key  + "']");

            if(!audio) return
            e.target.classList.add("active")
            audio.currentTime = 0;
            audio.play()

            function removeClass() {
                e.target.classList.remove("active");
            }

            setTimeout(removeClass,100);

        }

         for(var i = 0; i<=keys.length; i++){
            var divs = document.querySelector("div[data-key='" +  keys[i]  + "']")
            divs.addEventListener("click", handleClick);
        }

  </script>


</html>
